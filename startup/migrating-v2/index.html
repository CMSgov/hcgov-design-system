<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <title>Migrating to v2 - HealthCare.gov Design System</title>
    <link rel="shortcut icon" type="image/x-icon" href="/hcgov-design-system/images/favicon.ico" />
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700" rel="stylesheet" />
    <link rel="stylesheet" href="/hcgov-design-system/index.css" />
    
  
</head>
<body class="ds-base">
  
    <div id="js-root"></div>
    <script type="text/javascript">
      window.page = {"depth":2,"label":"Migrating to v2","header":"Migrating to v2","description":"<p>The CMS Design System v2 release introduces several breaking changes, and this migration guide outlines high-level steps to upgrade. See the <a href=\"https://github.com/CMSgov/design-system/releases/tag/core-2.0.0\">release notes</a> for a detailed list of changes.</p>\n<h2 id=\"npm-packages\">NPM packages</h2>\n<p>The <code>core</code>, <code>support</code>, <code>layout</code> npm packages have been deprecated and replaced with a new consolidated package <a href=\"https://www.npmjs.com/package/@cmsgov/design-system\"><code>@cmsgov/design-system</code></a>. This is now the only dependency you need to use the design system and you can simply replace the old packages with <code>@cmsgov/design-system</code> in your <code>package.json</code>.</p>\n<p>Old usage:</p>\n<pre ><code>  \"dependencies\": {\n    \"@cmsgov/design-system-core\": \"^3.7.0\",\n    \"@cmsgov/design-system-support\": \"^3.7.0\",\n    \"@cmsgov/design-system-layout\": \"^3.7.0\",\n    ...\n  }</code></pre><p>New usage:</p>\n<pre ><code>  \"dependencies\": {\n    \"@cmsgov/design-system\": \"^2.0.0\",\n    ...\n  }</code></pre><h3 id=\"child-design-system-packages-formerly-site-packages-\">Child design system packages (formerly site packages)</h3>\n<p>Usage of <a href=\"/hcgov-design-system/startup/child-design-systems/\">child design system</a> NPM packages have also been consolidated and simplified. Applications that use child design system packages only need one design system dependency going forward. The child design system packages will contain core styles, components, and assets in addition to child design system-specific customizations.</p>\n<p>The 2 child design system packages are:</p>\n<ul>\n<li>@cmsgov/ds-healthcare-gov</li>\n<li>@cmsgov/medicare-site-package</li>\n</ul>\n<p>Old usage:</p>\n<pre ><code>  \"dependencies\": {\n    \"@cmsgov/design-system-core\": \"3.4.2\",\n    \"@cmsgov/design-system-layout\": \"3.4.2\",\n    \"@cmsgov/design-system-support\": \"3.4.2\",\n    \"@cmsgov/ds-healthcare-gov\": \"3.0.1\",\n  }</code></pre><p>New usage:</p>\n<pre ><code>  \"dependencies\": {\n    \"@cmsgov/ds-healthcare-gov\": \"3.0.1\",\n    ...\n  }</code></pre><h2 id=\"folder-structure\">Folder structure</h2>\n<p>The <code>dist</code> folder structure has been updated for the <code>@cmsgov/design-system</code> npm package. We recommend only importing files from the <code>dist</code> directory moving forward.</p>\n<pre ><code>└── @cmsgov/design-system/dist\n    ├── components/\n    │   └── index.js      Compiled JS (CommmonJS)\n    ├── css/\n    │   └── index.css     Compiled CSS\n    ├── esnext/\n    │   └── index.esm.js  Compiled JS (ES Module)\n    ├── fonts/\n    ├── images/\n    └── scss/             Uncompiled CSS</code></pre><h3 id=\"importing-scss-css\">Importing SCSS/CSS</h3>\n<p>If you were importing Sass directly from our packages’ <code>src</code> directories, we recommended updating your import paths to import from <code>dist</code>.</p>\n<p>We previously did not distribute the Sass files in our packages’ <code>dist</code> directories, so you likely had an import path that looked like this:</p>\n<pre ><code>@import \"~@cmsgov/design-system-core/src/index\";</code></pre><p>In CMSDS v2, it will be changed to</p>\n<pre ><code>@import \"~@cmsgov/design-system/dist/scss/index\";</code></pre><p>Imports to <code>@cmsgov/design-system-layout</code> or <code>@cmsgov/design-system-support</code> are now included in the main <code>scss</code> entry point. If you would like to only import specific styles, see the <code>@cmsgov/design-system</code> <a href=\"https://github.com/CMSgov/design-system/blob/master/packages/design-system/README.md#file-structure\"><code>README.md</code></a> for more info on our SASS architecture.</p>\n<p>See the <a href=\"/hcgov-design-system/startup/theming/\">theming page</a> for more specific information on overriding the default Sass variables or CSS declarations.</p>\n<h3 id=\"importing-javascript\">Importing Javascript</h3>\n<p>V2 adds support for an ES module version of our JS, which can be found in the <code>dist/esnext</code> directory. Our <code>package.json</code> has been updated to use the <code>modules</code> property, which is used by bundlers like Webpack and Rollup to point to the ES module entry point when possible. For most users this won&#39;t require any change. See the documentation on <a href=\"/hcgov-design-system/startup/components/#named-imports\">importing React components</a> for more information on importing Javascript and ES module support.</p>\n<p>Your project also should not contain any <code>src</code> folder imports for React components. While JavaScript files were always available in the <code>src</code> directory before, it was never recommended to import the source version directly.</p>\n<h3 id=\"fonts-and-images\">Fonts and Images</h3>\n<p>Fonts and images are now stored in <code>@cmsgov/design-system/dist/fonts</code> and <code>@cmsgov/design-system/dist/images</code>. Previously they were stored in <code>@cmsgov/design-system/fonts</code> and <code>@cmsgov/design-system/images</code>.</p>\n<p>If you’re using a tool like webpack to collect the images and fonts during your app’s build process, you will need to update the appropriate path variables. A typical Sass import might have looked like this:</p>\n<pre ><code>$font-path: \"~@cmsgov/design-system-core/fonts\";\n$image-path: \"~@cmsgov/design-system-core/images\";</code></pre><p>When migrating to v2, it will need to be changed to:</p>\n<pre ><code>$font-path: \"~@cmsgov/design-system/dist/fonts\";\n$image-path: \"~@cmsgov/design-system/dist/images\";</code></pre><h2 id=\"focus-styles\">Focus styles</h2>\n<p>CMSDS focus styles will now be considered a <code>draft</code> feature, and will be turned off by default. Focus styles can be reenabled by setting the <code>$ds-include-focus-styles</code> build variable to true, but these styles will likely change in the future as we iterate on our design. See the <a href=\"https://design.cms.gov/startup/theming/#focus-settings\">theming page</a> for more information on how to customize or enable focus styles.</p>\n<h3 id=\"why-the-change-\">Why the change?</h3>\n<p>When we first released focus styles in <a href=\"https://github.com/CMSgov/design-system/releases/tag/3.6.0\">version 3.6.0</a>, our goal was to provide a recommended focus style implementation that would incorporate accessibility and best practices, much of which was informed by <a href=\"https://design-system.service.gov.uk/get-started/focus-states/\">UKgov&#39;s research</a> and <a href=\"https://designsystem.digital.gov/\">USWDS&#39;s focus state implementation</a>. While we spent 4 months developing, iterating, and gathering feedback before the release, we made several mistakes in the process. Due to communication and process shortcomings, our team wasn&#39;t able to fully consider how our design would impact existing focus styles, or whether or not our design was too specific. Our team assumed that the SCSS variables we provided were sufficient to adapt the focus styles for different use cases and we neglected to add an easy way to opt-out of the new feature.</p>\n<p>In this release, we worked to correct these mistakes by putting the new styles under a flag and turning them off by default. In the future, we plan on iterating on our default styles to be more generalized and more in line with existing focus styles on CMS products. We will also be adding additional mixins, variables, and documentation to make it easier for teams to customize focus styles.</p>\n<h2 id=\"a-note-on-versioning\">A note on versioning</h2>\n<p>When we decided to publish our new NPM packages for this release, we chose to start at <code>v2.0.0</code> even though our old NPM packages were at <code>v3.7.0</code>. The main reason for this is that our past v2 and v3 major releases didn&#39;t introduce breaking changes to our design system according to our <a href=\"https://github.com/CMSgov/design-system/blob/master/guides/RELEASE-PROCESS.md#versioning\">SemVer guidelines</a>. These releases were also not aligned with our product communication and marketing, and were limited to developer usage.</p>\n<p>With this major release, we are correcting past inconsistencies and unifying our versioning across NPM packages, our Sketch library, and product communication. Because we still have the same Github repo and release notes, we will be adopting a new naming convention for our release tags going forward; the version number will be prefixed with <code>core-</code> (i.e. <code>core-2.0.0</code>).</p>\n<p>This was a difficult decision to make, but we believe this will make things more consistent and simpler going forward.</p>\n","markup":"","reference":"startup.migrating-v2","referenceURI":"startup/migrating-v2","source":{"path":"node_modules/@cmsgov/design-system-docs/src/pages/startup/migrating-v2.md"},"weight":11,"parentReference":"startup","sections":[]};
      window.routes = [{"defaultCollapsed":true,"id":"","items":[],"label":"Introduction","url":"/"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"startup/installation","items":null,"label":"Installation","url":"/startup/installation"},{"defaultCollapsed":true,"id":"startup/sass-and-css","items":null,"label":"Using Sass/CSS","url":"/startup/sass-and-css"},{"defaultCollapsed":true,"id":"startup/components","items":null,"label":"Using components","url":"/startup/components"},{"defaultCollapsed":true,"id":"startup/theming","items":null,"label":"Theming","url":"/startup/theming"},{"defaultCollapsed":true,"id":"startup/child-design-systems","items":null,"label":"Child Design Systems","url":"/startup/child-design-systems"},{"defaultCollapsed":true,"id":"startup/examples","items":null,"label":"Examples","url":"/startup/examples"},{"defaultCollapsed":true,"id":"startup/migrating-v2","items":null,"label":"Migrating to v2","url":"/startup/migrating-v2"}],"label":"Getting started"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"guidelines/accessibility","items":null,"label":"Accessibility","url":"/guidelines/accessibility"},{"defaultCollapsed":true,"id":"guidelines/code-conventions","items":null,"label":"Code conventions","url":"/guidelines/code-conventions"},{"defaultCollapsed":true,"id":"guidelines/component-maturity","items":null,"label":"Component maturity","url":"/guidelines/component-maturity"},{"defaultCollapsed":true,"id":"guidelines/forms","items":null,"label":"Forms","url":"/guidelines/forms"},{"defaultCollapsed":true,"id":"guidelines/i18n","items":null,"label":"Internationalization","url":"/guidelines/i18n"},{"defaultCollapsed":true,"id":"guidelines/responsive","items":null,"label":"Responsive design","url":"/guidelines/responsive"},{"defaultCollapsed":true,"id":"guidelines/browser-support","items":null,"label":"Browser support","url":"/guidelines/browser-support"}],"label":"Guidelines"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"styles/base","items":null,"label":"Base","url":"/styles/base"},{"defaultCollapsed":true,"id":"styles/color","items":null,"label":"Color palette","url":"/styles/color"},{"defaultCollapsed":true,"id":"styles/icons","items":null,"label":"Icons","url":"/styles/icons"},{"defaultCollapsed":true,"id":"styles/spacing","items":null,"label":"Spacing","url":"/styles/spacing"},{"defaultCollapsed":true,"id":"styles/typography","items":null,"label":"Typography","url":"/styles/typography"}],"label":"Styles"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"utilities/overview","items":null,"label":"Overview","url":"/utilities/overview"},{"defaultCollapsed":true,"id":"utilities/grid","items":null,"label":"Layout grid","url":"/utilities/grid"},{"defaultCollapsed":true,"id":"utilities/background-color","items":null,"label":"Background color","url":"/utilities/background-color"},{"defaultCollapsed":true,"id":"utilities/border","items":null,"label":"Border","url":"/utilities/border"},{"defaultCollapsed":true,"id":"utilities/border-radius","items":null,"label":"Border radius","url":"/utilities/border-radius"},{"defaultCollapsed":true,"id":"utilities/display-visibility","items":null,"label":"Display/Visibility","url":"/utilities/display-visibility"},{"defaultCollapsed":true,"id":"utilities/flexbox","items":null,"label":"Flexbox","url":"/utilities/flexbox"},{"defaultCollapsed":true,"id":"utilities/float","items":null,"label":"Float","url":"/utilities/float"},{"defaultCollapsed":true,"id":"utilities/font-family","items":null,"label":"Font family","url":"/utilities/font-family"},{"defaultCollapsed":true,"id":"utilities/font-size","items":null,"label":"Font size","url":"/utilities/font-size"},{"defaultCollapsed":true,"id":"utilities/font-style","items":null,"label":"Font style","url":"/utilities/font-style"},{"defaultCollapsed":true,"id":"utilities/font-weight","items":null,"label":"Font weight","url":"/utilities/font-weight"},{"defaultCollapsed":true,"id":"utilities/line-height","items":null,"label":"Line height","url":"/utilities/line-height"},{"defaultCollapsed":true,"id":"utilities/margin","items":null,"label":"Margin","url":"/utilities/margin"},{"defaultCollapsed":true,"id":"utilities/measure","items":null,"label":"Measure","url":"/utilities/measure"},{"defaultCollapsed":true,"id":"utilities/overflow","items":null,"label":"Overflow","url":"/utilities/overflow"},{"defaultCollapsed":true,"id":"utilities/padding","items":null,"label":"Padding","url":"/utilities/padding"},{"defaultCollapsed":true,"id":"utilities/text-align","items":null,"label":"Text alignment","url":"/utilities/text-align"},{"defaultCollapsed":true,"id":"utilities/text-color","items":null,"label":"Text color","url":"/utilities/text-color"},{"defaultCollapsed":true,"id":"utilities/text-decoration","items":null,"label":"Text decoration","url":"/utilities/text-decoration"},{"defaultCollapsed":true,"id":"utilities/text-transform","items":null,"label":"Text transform","url":"/utilities/text-transform"},{"defaultCollapsed":true,"id":"utilities/truncate","items":null,"label":"Truncate","url":"/utilities/truncate"},{"defaultCollapsed":true,"id":"utilities/vertical-align","items":null,"label":"Vertical align","url":"/utilities/vertical-align"},{"defaultCollapsed":true,"id":"utilities/word-break","items":null,"label":"Word Break","url":"/utilities/word-break"}],"label":"Utilities"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"components/alert","items":null,"label":"Alert","url":"/components/alert"},{"defaultCollapsed":true,"id":"components/autocomplete","items":null,"label":"Autocomplete","url":"/components/autocomplete"},{"defaultCollapsed":true,"id":"components/badge","items":null,"label":"Badge","url":"/components/badge"},{"defaultCollapsed":true,"id":"components/button","items":null,"label":"Button","url":"/components/button"},{"defaultCollapsed":true,"id":"components/choice","items":null,"label":"Checkbox & Radio","url":"/components/choice"},{"defaultCollapsed":true,"id":"components/date-field","items":null,"label":"Date field","url":"/components/date-field"},{"defaultCollapsed":true,"id":"components/dropdown","items":null,"label":"Dropdown","url":"/components/dropdown"},{"defaultCollapsed":true,"id":"components/form-label","items":null,"label":"Form Label & Legend","url":"/components/form-label"},{"defaultCollapsed":true,"id":"components/help-drawer","items":null,"label":"Help Drawer","url":"/components/help-drawer"},{"defaultCollapsed":true,"id":"components/inset","items":null,"label":"Inset","url":"/components/inset"},{"defaultCollapsed":true,"id":"components/list","items":null,"label":"List","url":"/components/list"},{"defaultCollapsed":true,"id":"components/logo","items":null,"label":"Logo","url":"/components/logo"},{"defaultCollapsed":true,"id":"components/masked-field","items":null,"label":"Masked field","url":"/components/masked-field"},{"defaultCollapsed":true,"id":"components/dialog","items":null,"label":"Modal dialog","url":"/components/dialog"},{"defaultCollapsed":true,"id":"components/month-picker","items":null,"label":"Month Picker","url":"/components/month-picker"},{"defaultCollapsed":true,"id":"components/skip-nav","items":null,"label":"Skip Nav","url":"/components/skip-nav"},{"defaultCollapsed":true,"id":"components/spinner","items":null,"label":"Spinner","url":"/components/spinner"},{"defaultCollapsed":true,"id":"components/table","items":null,"label":"Table","url":"/components/table"},{"defaultCollapsed":true,"id":"components/tabs","items":null,"label":"Tabs","url":"/components/tabs"},{"defaultCollapsed":true,"id":"components/text-field","items":null,"label":"Text field","url":"/components/text-field"},{"defaultCollapsed":true,"id":"components/tooltip","items":null,"label":"Tooltip","url":"/components/tooltip"},{"defaultCollapsed":true,"id":"components/usa-banner","items":null,"label":"USA banner","url":"/components/usa-banner"},{"defaultCollapsed":true,"id":"components/vertical-nav","items":null,"label":"Vertical navigation","url":"/components/vertical-nav"}],"label":"Components"},{"defaultCollapsed":true,"items":[{"defaultCollapsed":true,"id":"patterns/overview","items":null,"label":"Overview","url":"/patterns/overview"},{"defaultCollapsed":true,"id":"patterns/documentation-page","items":null,"label":"Documentation page","url":"/patterns/documentation-page"},{"defaultCollapsed":true,"id":"patterns/ExposedWithin/exposed-within","items":null,"label":"Exposed within","url":"/patterns/ExposedWithin/exposed-within"},{"defaultCollapsed":true,"id":"patterns/footer","items":null,"label":"Footer","url":"/patterns/footer"},{"defaultCollapsed":true,"id":"patterns/header","items":null,"label":"Header","url":"/patterns/header"},{"defaultCollapsed":true,"id":"patterns/review","items":null,"label":"Review","url":"/patterns/review"},{"defaultCollapsed":true,"id":"patterns/step-list","items":null,"label":"Step List","url":"/patterns/step-list"},{"defaultCollapsed":true,"id":"patterns/external-link","items":null,"label":"Third party external link","url":"/patterns/external-link"}],"label":"Patterns"}];
    </script>
    <script src="/hcgov-design-system/index.js"></script>
  
</body>
</html>